(this["webpackJsonpapirender-dashboard"]=this["webpackJsonpapirender-dashboard"]||[]).push([[13],{177:function(e,t,a){"use strict";var n=a(82),c=a(3),l=a.n(c),r=a(129);t.a=function(e){var t=e.children,a=Object(c.useRef)(),s=Object(c.useState)(!1),i=Object(n.a)(s,2),m=i[0],o=i[1],u=function(e){if(m){var t=a.current;if(t.contains(e.target)||t===e.target)return;o(!1)}};return Object(c.useEffect)((function(){return["click","touchstart"].forEach((function(e){return document.addEventListener(e,u,!1)})),function(){["click","touchstart"].forEach((function(e){return document.removeEventListener(e,u,!1)}))}}),[m]),l.a.createElement("div",{ref:a,className:"app-menu ".concat(m?"shown":"")},t,l.a.createElement(r.a,{className:"app-menu-button d-inline-block d-xl-none",onClick:function(){return o(!m)}},l.a.createElement("i",{className:"simple-icon-options"})))}},181:function(e,t,a){"use strict";var n=a(3),c=a.n(n),l=a(396),r=a(397),s=a(129),i=a(83);t.a=function(e){var t=e.totalPage,a=void 0===t?0:t,n=e.currentPage,m=void 0===n?1:n,o=e.numberLimit,u=void 0===o?5:o,d=e.lastIsActive,p=void 0===d||d,E=e.firstIsActive,g=void 0===E||E,b=e.onChangePage,f=1,h=u;u>a?(f=1,h=a):m<=parseInt(u/2,10)?(f=1,h=u):m+parseInt(u/2,10)<=a?(f=m-parseInt(u/2,10),h=m+parseInt(u/2,10)):(f=a-(u-1),h=a);for(var N=[],v=f=0===f?1:f;v<=h;v+=1)N.push(v);var j=m<=1?"disabled":"",O=m>=a?"disabled":"",x=m<=1?"disabled":"",y=m>=a?"disabled":"";return a>1?c.a.createElement(i.a,{xxs:"12",className:"mt-3 mb-3"},c.a.createElement(l.a,{className:"pagination justify-content-center"},g&&c.a.createElement(r.a,{className:"page-item ".concat(j)},c.a.createElement(s.a,{className:"page-link first c-pointer",onClick:function(){return b(1)}},c.a.createElement("i",{className:"simple-icon-control-start"}))),c.a.createElement(r.a,{className:"page-item ".concat(x)},c.a.createElement(s.a,{className:"page-link prev c-pointer",onClick:function(){return b(m-1)}},c.a.createElement("i",{className:"simple-icon-arrow-left"}))),N.map((function(e){return c.a.createElement(r.a,{key:e,className:"page-item ".concat(m===e&&"active")},c.a.createElement(s.a,{className:"page-link c-pointer",onClick:function(){return b(e)}},e))})),c.a.createElement(r.a,{className:"page-item ".concat(y)},c.a.createElement(s.a,{className:"page-link next c-pointer",onClick:function(){return b(m+1)}},c.a.createElement("i",{className:"simple-icon-arrow-right"}))),p&&c.a.createElement(r.a,{className:"page-item ".concat(O)},c.a.createElement(s.a,{className:"page-link last c-pointer",onClick:function(){return b(a)}},c.a.createElement("i",{className:"simple-icon-control-end"}))))):c.a.createElement(i.a,{xxs:"12",className:"mt-2"})}},380:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),l=a(14),r=a(82),s=a(3),i=a.n(s),m=a(11),o=a.n(m),u=a(214),d=a(154),p=a(398),E=a(436),g=a(427),b=a(393),f=a(395),h=a(136),N=a(83),v=a(84),j=(a(145),Object(h.c)((function(e){var t=e.intl,a=e.changeOrderBy,n=e.changePageSize,c=e.selectedPageSize,l=e.totalItemCount,m=e.selectedOrderOption,o=(e.match,e.startIndex),h=e.endIndex,j=e.onSearchKey,O=e.orderOptions,x=e.pageSizes,y=e.heading,k=Object(s.useState)(!1),S=Object(r.a)(k,2),P=S[0],w=S[1],I=t.messages;return i.a.createElement(u.a,null,i.a.createElement(N.a,{xxs:"12"},i.a.createElement("div",{className:"mb-2"},i.a.createElement("h1",null,y)),i.a.createElement("div",{className:"mb-2"},i.a.createElement(d.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:function(){return w(!P)}},i.a.createElement(v.a,{id:"pages.display-options"})," ",i.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),i.a.createElement(p.a,{isOpen:P,className:"d-md-block",id:"displayOptions"},i.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},i.a.createElement(E.a,{className:"mr-1 float-md-left btn-group mb-1"},i.a.createElement(g.a,{caret:!0,color:"outline-dark",size:"xs"},m.label),i.a.createElement(b.a,null,O.map((function(e,t){return i.a.createElement(f.a,{key:t,onClick:function(){return a(e.column)}},e.label)})))),i.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},i.a.createElement("input",{type:"text",name:"keyword",id:"search",placeholder:I["menu.search"],onKeyPress:function(e){return j(e)}}))),i.a.createElement("div",{className:"float-md-right pt-1"},i.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(o,"-").concat(h," of ").concat(l," ")),i.a.createElement(E.a,{className:"d-inline-block"},i.a.createElement(g.a,{caret:!0,color:"outline-dark",size:"xs"},c),i.a.createElement(b.a,{right:!0},x.map((function(e,t){return i.a.createElement(f.a,{key:t,onClick:function(){return n(e)}},e)}))))))),i.a.createElement(N.b,{className:"mb-5"})))}))),O=a(228),x=a(399),y=a(87),k=a(181),S=a(111),P=a(25),w=a(99),I=a.n(w),C=a(177),_=Object(P.b)(null,{})((function(e){var t=e.customer;e.match,e.history;return i.a.createElement(C.a,null,i.a.createElement(I.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},i.a.createElement("div",{className:"p-4"},i.a.createElement("p",{className:"text-muted text-small"},i.a.createElement(v.a,{id:"pages.customer-detail"})),i.a.createElement("ul",{className:"list-unstyled mb-2"},i.a.createElement("li",{className:"nav-item text-center"},i.a.createElement("img",{src:"/".concat(t.avatar),alt:"Avatar",className:"rounded-circle",width:"100",height:"100"})),i.a.createElement("li",{className:"nav-item text-center"},i.a.createElement("span",{className:"text-primary"},"".concat(t.first_name," ").concat(t.last_name))),i.a.createElement("li",{className:"nav-item text-center"},"Company: ",i.a.createElement("span",{className:"text-muted"},t.company_name))))))})),z=a(105);var L=i.a.memo((function(e){var t=e.items,a=(e.displayMode,e.selectedItems,e.currentPage),n=e.totalPage,c=e.onChangePage,l=(e.projectID,e.project);return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{className:"app-row"},i.a.createElement(N.a,{xxs:"12",className:"mb-3"},i.a.createElement(O.a,{responsive:!0,className:"r-table table table-divided"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",null,"Product Type"),i.a.createElement("th",null,"Quantity"),i.a.createElement("th",null,"Cost"),i.a.createElement("th",null,"Status"),i.a.createElement("th",null))),i.a.createElement("tbody",null,t.map((function(e,t){var a=z.c[l.category].find((function(t){return t.value===e.value}));return i.a.createElement("tr",{role:"row",key:t},i.a.createElement("td",{role:"cell",className:"p-0 list-item-heading w-10"},i.a.createElement("div",{className:"d-flex align-items-center justify-center"},i.a.createElement("img",{alt:e.desc,src:a.img,className:"responsive border-0 card-img-left",style:{width:"100px",height:"85px"}}))),i.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-40"},e.name,i.a.createElement("span",{className:"text-small text-primary"}," ( +",function(e){var t=JSON.parse(e);return(t=t.filter((function(e){return 1!=e.depth}))).reduce((function(e,t){return e+(t.quantity||0)}),0)}(e.orders)," options )")),i.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10 text-muted text-small"},e.quantity),i.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-10 text-muted text-small"},"$",e.total_price),i.a.createElement("td",{role:"cell",className:"align-middle list-item-heading w-20 text-small"},i.a.createElement(x.a,{color:S.a[e.status],pill:!0},e.status)),i.a.createElement("td",{role:"cell",className:"truncate align-middle list-item-heading w-10"},e.is_paid&&("IN PROGRESS"===e.status||"REVIEW"===e.status)&&i.a.createElement(y.b,{exact:!0,to:"/admin/projects/briefing/".concat(e._id),className:"top-right-button btn btn-primary btn-sm"},i.a.createElement(v.a,{id:"projects.view-briefing"}))))}))))),i.a.createElement(k.a,{currentPage:a,totalPage:n,onChangePage:function(e){return c(e)}})),i.a.createElement(_,{customer:l.user_id}))})),M=(a(376),[{column:"desc",label:"Service Name"},{column:"price",label:"Price"},{column:"quantity",label:"Quantity"}]),D=[10,20,50,100];t.default=function(e){var t=e.match,a=Object(s.useState)(!1),n=Object(r.a)(a,2),m=n[0],u=n[1],d=Object(s.useState)("thumblist"),p=Object(r.a)(d,2),E=p[0],g=p[1],b=Object(s.useState)(1),f=Object(r.a)(b,2),h=f[0],N=f[1],v=Object(s.useState)(10),O=Object(r.a)(v,2),x=O[0],y=O[1],k=Object(s.useState)({column:"desc",label:"Service Name"}),S=Object(r.a)(k,2),P=S[0],w=S[1],I=Object(s.useState)(!1),C=Object(r.a)(I,2),_=C[0],z=C[1],R=Object(s.useState)(0),q=Object(r.a)(R,2),A=q[0],B=q[1],J=Object(s.useState)(1),K=Object(r.a)(J,2),F=K[0],Q=K[1],G=Object(s.useState)(""),T=Object(r.a)(G,2),V=T[0],W=T[1],X=Object(s.useState)([]),$=Object(r.a)(X,2),H=$[0],U=$[1],Y=Object(s.useState)([]),Z=Object(r.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(s.useState)(""),ne=Object(r.a)(ae,2),ce=ne[0],le=ne[1];Object(s.useEffect)((function(){N(1)}),[x,P]),Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/projects/detail?_id=".concat(t.params.id,"&pageSize=").concat(x,"&currentPage=").concat(h,"&orderBy=").concat(P.column,"&search=").concat(V)).then((function(e){return e.data})).then((function(e){console.log(e),le(e.project),Q(e.totalPage),te(e.services),U([]),B(e.totalItem),u(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u(!1),function(){e.apply(this,arguments)}()}),[x,h,P,V,t.params.id]);var re=(h-1)*x,se=h*x;return m?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"disable-text-selection"},i.a.createElement(j,{heading:ce.project_name,displayMode:E,changeDisplayMode:g,changeOrderBy:function(e){w(M.find((function(t){return t.column===e})))},changePageSize:y,selectedPageSize:x,totalItemCount:A,selectedOrderOption:P,match:t,startIndex:re,endIndex:se,selectedItemsLength:H?H.length:0,itemsLength:ee?ee.length:0,onSearchKey:function(e){"Enter"===e.key&&W(e.target.value.toLowerCase())},orderOptions:M,pageSizes:D,projectID:t.params.id,project:ce,toggleModal:function(){return z(!_)},totalPrice:ee.reduce((function(e,t){return e+t.total_price}),0)}),i.a.createElement(L,{items:ee,displayMode:E,selectedItems:H,currentPage:h,totalPage:F,onChangePage:N,projectID:t.params.id,project:ce}))):i.a.createElement("div",{className:"loading"})}}}]);
//# sourceMappingURL=project-details.7a721926.chunk.js.map