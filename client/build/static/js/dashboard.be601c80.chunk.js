(this["webpackJsonpapirender-dashboard"]=this["webpackJsonpapirender-dashboard"]||[]).push([[9],{111:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={DRAFT:"draft","WAITING FOR FILES":"waiting","IN PROGRESS":"progress",REVIEW:"review",COMPLETED:"completed"}},422:function(e,t,a){"use strict";a.r(t);var n=a(82),l=a(3),r=a.n(l),s=a(214),c=a(11),i=a.n(c),o=a(84),m=a(83),d=a(109),u=a(159),b=r.a.memo((function(e){var t=e.className,a=void 0===t?"mb-4":t,n=e.icon,l=e.title,s=e.value;return r.a.createElement("div",{className:"icon-row-item ".concat(a)},r.a.createElement(d.a,null,r.a.createElement(u.a,{className:"text-center"},r.a.createElement("i",{className:n}),r.a.createElement("p",{className:"card-text font-weight-semibold mb-0"},r.a.createElement(o.a,{id:l})),r.a.createElement("p",{className:"lead text-center"},s))))})),p=a(5),E=a(97),h=a(98),g=a(133),v=a(102),f=a(101),N=a(340),_=a(19),j=(a(341),-1),w=-1,y=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onResize=n.onResize.bind(Object(g.a)(n)),n.renderDots=n.renderDots.bind(Object(g.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.initGlide()}},{key:"componentDidUpdate",value:function(){this.destroyGlide(),this.initGlide()}},{key:"componentWillUnmount",value:function(){this.destroyGlide()}},{key:"onResize",value:function(){var e=this;clearTimeout(j),j=setTimeout((function(){e.glideCarousel.update(),j=-1}),500)}},{key:"initGlide",value:function(){this.glideCarousel=new N.a(this.carousel,Object(p.a)(Object(p.a)({},this.props.settings),{},{direction:Object(_.d)().direction})),this.glideCarousel.mount(),this.glideCarousel.on("resize",this.onResize),w=setTimeout((function(){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!1,!1),window.dispatchEvent(e)}),500)}},{key:"destroyGlide",value:function(){clearTimeout(j),clearTimeout(w),this.glideCarousel&&this.glideCarousel.destroy()}},{key:"renderDots",value:function(){for(var e=r.a.Children.count(this.props.children),t=[],a=0;a<e;a++)t.push(r.a.createElement("button",{type:"button",className:"glide__bullet slider-dot",key:a,"data-glide-dir":"=".concat(a)}));return t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"glide",ref:function(t){return e.carousel=t}},r.a.createElement("div",{"data-glide-el":"track",className:"glide__track"},r.a.createElement("div",{className:"glide__slides"},this.props.children)),!this.props.settings.hideNav&&r.a.createElement("div",{className:"glide__arrows slider-nav","data-glide-el":"controls"},r.a.createElement("button",{type:"button",className:"glide__arrow glide__arrow--left left-arrow btn btn-link","data-glide-dir":"<"},r.a.createElement("i",{className:"simple-icon-arrow-left"})),r.a.createElement("div",{className:"glide__bullets slider-dot-container","data-glide-el":"controls[nav]"},this.renderDots()),r.a.createElement("button",{type:"button",className:"glide__arrow glide__arrow--right right-arrow btn btn-link","data-glide-dir":">"},r.a.createElement("i",{className:"simple-icon-arrow-right"})))))}}]),a}(r.a.Component);y.defaultProps={settings:{}};var k=function(e){var t=e.data;return r.a.createElement(s.a,{className:"icon-cards-row"},t.map((function(e,t){return r.a.createElement(m.a,{lg:"2",xl:"2",className:"mb-4",key:"icon_card_".concat(t)},r.a.createElement(b,Object.assign({},e,{className:"mb-4"})))})))};t.default=function(e){e.match;var t=Object(l.useState)([]),a=Object(n.a)(t,2),c=a[0],d=a[1];return Object(l.useEffect)((function(){i.a.post("/api/dashboard/admin-statistics").then((function(e){return e.data})).then((function(e){d([{title:"dashboards.total-projects-in-progress",icon:"iconsminds-clock",value:e.totalProjectsInProgress},{title:"dashboards.total-payments",icon:"iconsminds-clock",value:"AU$"+e.totalPayments},{title:"dashboards.total-projects-awaiting",icon:"iconsminds-clock",value:e.totalProjectsAwaiting},{title:"dashboards.total-projects-completed",icon:"iconsminds-clock",value:e.totalProjectsCompleted}])}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(m.a,{xxs:"12"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("h1",null,r.a.createElement(o.a,{id:"menu.dashboard"}))),r.a.createElement(m.b,{className:"mb-5"}))),r.a.createElement(s.a,null,r.a.createElement(m.a,{lg:"12",xl:"12",className:"mb-4"},c&&r.a.createElement(k,{data:c})),r.a.createElement(m.a,{lg:"8",xl:"4",className:"mb-4"})))}},424:function(e,t,a){"use strict";a.r(t);var n=a(82),l=a(3),r=a.n(l),s=a(214),c=a(25),i=a(136),o=a(87),m=a(11),d=a.n(m),u=a(84),b=a(83),p=a(104),E=a.n(p),h=a(99),g=a.n(h),v=a(109),f=a(159),N=a(139),_=a(399),j=a(105),w=a(111),y=function(e){return r.a.createElement(v.a,null,r.a.createElement("div",{className:"position-absolute card-top-buttons"},r.a.createElement("button",{type:"button",className:"btn btn-header-light icon-button"},r.a.createElement("i",{className:"simple-icon-refresh"}))),r.a.createElement(f.a,null,r.a.createElement(N.a,null,r.a.createElement(u.a,{id:"dashboards.recent-projects"})),r.a.createElement("div",{className:"scroll dashboard-list-with-thumbs"},r.a.createElement(g.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},e.data.map((function(e,t){var a=j.b.find((function(t){return t.value===e.category}));return r.a.createElement("div",{key:t,className:"d-flex flex-row mb-3"},r.a.createElement(o.b,{to:"/app/projects/details/".concat(e._id),className:"d-block position-relative"},r.a.createElement("img",{src:a.img,alt:e.project_name,className:"border-0",style:{width:"110px"}}),r.a.createElement(_.a,{color:w.a[e.status],key:t,className:"position-absolute badge-top-right",pill:!0},e.status)),r.a.createElement("div",{className:"pl-3 pt-2 pr-2 pb-2"},r.a.createElement(o.b,{to:"/app/projects/details/".concat(e._id)},r.a.createElement("p",{className:"list-item-heading"},e.project_name),r.a.createElement("div",{className:"pr-4"},r.a.createElement("p",{className:"text-muted mb-1 text-small"},a.desc)),r.a.createElement("div",{className:"text-primary text-small font-weight-medium d-none d-sm-block"},E()(e.date).format("LLLL")))))}))))))},k=function(e){var t=e.className,a=void 0===t?"":t,n=e.comments;return r.a.createElement(v.a,{className:a},r.a.createElement(f.a,null,r.a.createElement(N.a,null,r.a.createElement(u.a,{id:"dashboards.recent-messages"})),r.a.createElement("div",{className:"dashboard-list-with-user"},r.a.createElement(g.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},n.map((function(e,t){return r.a.createElement("div",{key:t,className:"d-flex flex-row mb-3 pb-3 border-bottom"},r.a.createElement(o.b,{to:"#"},null!=e.user_details.avatar?r.a.createElement("img",{alt:e.user_details.first_name+" "+e.user_details.last_name,className:"img-object-fit border-0 rounded-circle",width:"40",height:"40",src:"/".concat(e.user_details.avatar)}):r.a.createElement("img",{alt:e.user_details.first_name+" "+e.user_details.last_name,className:"img-object-fit border-0 rounded-circle",width:"40",height:"40",src:"/assets/img/avatar.png"})),r.a.createElement("div",{className:"pl-3 pr-2"},r.a.createElement(o.b,{to:"/app/projects/view-briefing/".concat(e.service_id)},r.a.createElement("p",{className:"font-weight-medium mb-0"},e.message),r.a.createElement("p",{className:"text-muted mb-0 text-small"},e.user_details.first_name+" "+e.user_details.last_name,"\xa0|\xa0",e.project_name," | ",E()(e.date).format("LLLL")))))}))))))};t.default=Object(i.c)(Object(c.b)((function(e){return{loginUser:e.authUser.user}}),{})((function(e){e.match;var t=e.loginUser,a=Object(l.useState)(!0),c=Object(n.a)(a,2),i=c[0],m=c[1],p=Object(l.useState)([]),E=Object(n.a)(p,2),h=E[0],g=E[1],v=Object(l.useState)([]),f=Object(n.a)(v,2),N=f[0],_=f[1];return Object(l.useEffect)((function(){var e=!1;return d.a.post("/api/projects/get-latest",{user_id:t._id,role:t.role}).then((function(e){return e.data})).then((function(t){e||(m(!1),g(t.projects),_(t.messages))})),function(){e=!0}}),[]),i?r.a.createElement("div",{className:"loading"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(b.a,{xxs:"12"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("h1",null,r.a.createElement(u.a,{id:"menu.welcome"})," ","".concat(t.first_name)),r.a.createElement("div",{className:"text-zero top-right-button-container"},r.a.createElement(o.b,{exact:!0,to:"/app/projects/new-project",className:"top-right-button btn btn-primary btn-lg"},r.a.createElement(u.a,{id:"projects.add-new"})))),r.a.createElement(b.b,{className:"mb-5"}))),r.a.createElement(s.a,null,r.a.createElement(b.a,{lg:"8",xl:"4",className:"mb-4"},0!=h.length&&r.a.createElement(y,{data:h})),r.a.createElement(b.a,{lg:"8",xl:"4",className:"mb-4"},0!=N.length&&r.a.createElement(k,{comments:N}))))})))}}]);
//# sourceMappingURL=dashboard.be601c80.chunk.js.map